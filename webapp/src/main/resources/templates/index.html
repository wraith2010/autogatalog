<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title th:text="${appName}"></title>

<link th:href="@{/css/common.css}" rel="stylesheet" />
<link th:href="@{/css/index.css}" rel="stylesheet" />
<link th:href="@{/css/index-grid.css}" rel="stylesheet" />
<link th:href="@{/css/nav.css}" rel="stylesheet" />
</head>

<body>

	<nav th:replace="~{fragments/nav.html :: nav}"></nav>

	<main>
		<section class="indexGrid">

			<header>
				<h2 th:text="'Index Page(' + ${page } + '/' + ${pageMax} + ')'"></h2>
			</header>

			<div class="pagenumbers">
				<ul>
					<li th:each="i : ${#numbers.sequence( 1, pageMax)}"><a
						th:href="@{/index(page=${i})}" th:text="${i}"></a></li>
				</ul>
			</div>

			<article th:each="gat: ${gats}" th:with="guid=${gat.guid}">
				<ul>
					<li><a th:href="${gat.linkURL}"> <img alt="odysee logo"
							class="download" th:src="@{'/img/odysee.jpg'}" />
					</a></li>
					<li><a th:href="@{'/download/' + ${guid}}"><img
							alt="download icon" class="download"
							th:src="@{'/img/download.png'}" /> </a></li>
				</ul>
				<figure>
					<a th:href="@{'/gat/' + ${gat.guid}}"> <img
						th:if="${imageStrings.containsKey(guid)}"
						th:src="@{'data:image/jpeg;charset=utf-8;base64,'+ ${imageStrings.get(guid)}}"
						th:id="${guid}" alt="preview" />
					</a>
				</figure>
				<header>
					<a th:href="@{'/gat/' + ${gat.guid}}">
						<h3 th:text="${gat.title}"></h3>
					</a>
				</header>
				<div>
					<a th:href="@{'/author/' + ${gat.author}}"> <img
						class="authoricon" alt="Author" th:src="@{'/img/writer.png'}">
						<h3 th:text="${gat.author}"></h3>
					</a>
				</div>
			</article>
			
			<div class="pagenumbers">
				<ul>
					<li th:each="i : ${#numbers.sequence( 1, pageMax)}"><a
						th:href="@{/index(page=${i})}" th:text="${i}"></a></li>
				</ul>
			</div>
			
		</section>
	</main>

</body>

</html>